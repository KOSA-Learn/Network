# Network

### 이정민
<details>
  <summary> VMware 환경에서 NAT = Bridge + LAN Segment ? </summary>

  ## NAT
  
  **역할:** 내부 네트워크의 여러 기기가 하나의 공인 IP를 사용해 인터넷에 접근할 수 있도록 하는 **IP를 공유**한다.
  
  **주요 기능:**  
  - **주소 변환:** 내부의 사설 IP(예: 10.x.x.x)와 외부의 공인 IP(예: 203.0.113.x)를 상호 변환한다.
  - **포트 매핑:** 하나의 공인 IP를 여러 내부 기기가 공유할 수 있도록 각 연결마다 다른 포트 번호를 할당하여 구분한다.
  - **연결 추적 및 보안:** 각 연결의 상태를 NAT 테이블에 기록해 응답을 올바른 내부 기기로 전달하며 내부 네트워크 구조가 외부에 노출되지 않도록 보호한다.
  
  **예시:** 집의 Wi-Fi를 사용할 때 컴퓨터, 스마트폰 등이 각각 10.0.0.10, 10.0.0.11의 사설 IP를 사용하며 라우터는 하나의 공인 IP(예: 203.0.113.5)를 통해 외부와 통신한다. 각 기기의 연결은 포트 번호로 구분되어 관리한다.

  
  ## Bridge
  
  **역할:** 여러 LAN Segment를 Cable이나 Switch과 같은 물리적 장비나 vLAN 등의 논리적 설정을 통합해 모든 기기가 동일한 브로드캐스트 도메인을 공유하도록 한다.
  
  **주요 기능:**  
  - **데이터 전달:** 데이터 링크 계층에서 작동해 **MAC 주소**를 기반으로 데이터를 그대로 전달한다.
  - **네트워크 확장:** 각 Segment를 한 기기가 보낸 브로드캐스트 메시지가 도달할 수 있는 모든 기기들의 범위로 통합한다. 동일한 네트워크 내의 모든 기기가 같은 브로드캐스트 영역을 공유하게 함으로써 기기들 간의 통신이 원활하게 이루어지도록 지원한다.
  
  **예시:** 사무실 내 각 층의 네트워크를 Switch 또는 Bridge 장비로 연결하여 모든 기기가 동일한 네트워크 상에서 자유롭게 통신할 수 있도록 하는 경우

  
  ## LAN Segment(vSwitch 옵션)
  
  **역할:** 동일한 IP 대역과 브로드캐스트 영역을 공유하는 기기들의 집합으로 기본적인 네트워크 통신 환경을 제공한다.
  
  **주요 기능:**  
  - **고유 IP 할당:** 각 기기는 네트워크 내에서 충돌 없이 고유한 IP(예: 10.x.x.x)를 사용한다.
  - **기본 통신:** 같은 LAN Segment에 속한 기기들은 직접 통신하며 데이터를 주고받을 수 있다.
  
  **예시:** 가정 내 컴퓨터, 프린터 등 모두 **동일**한 10.x.x.x 대역을 사용하여 하나의 LAN을 구성, 서로 데이터를 교환하는 환경

  
  ## 그래서 NAT는 Bridge + LAN Segment인가?  
  NAT는 LAN Segment의 내부 통신, Bridge의 외부 연결과 유사한 기능을 제공하지만 LAN Segment와 Bridge를 결합한 것이 아닌 가상 라우터, 스위치, DHCP 서버가 통합된 별도의 가상 네트워크 인프라를 구성한다.
</details>


### 김동욱
<details>
  <summary> Subnet vs VLAN </summary>

  ## Subnet
  
  ### 정의
  - 네트워크를 논리적으로 분할한 단위로, 계층 3(네트워크 계층)에서 동작합니다.
  - 서브넷 마스크를 통해 IP 주소의 네트워크 ID와 호스트 ID를 구분합니다.
  
  ### 목적
  - 브로드캐스트 도메인 분리
    - 큰 네트워크를 작은 서브넷으로 나누어 불필요한 브로드캐스트 트래픽을 줄입니다.
  - 보안 및 관리 효율성
    - 다른 서브넷 간 통신은 라우터/방화벽을 거치게 해 접근 제어가 가능합니다.
  - IP 주소 효율적 할당
    - 필요한 호스트 수에 맞춰 서브넷 크기를 최적화합니다 (예: /24 → 254개 호스트, /30 → 2개 호스트).
  
  ### 예시
  네트워크: 192.168.1.0/24  
  서브넷 A: 192.168.1.0/26 (호스트 62개)  
  서브넷 B: 192.168.1.64/26 (호스트 62개)  
  
  ## VLAN
  
  ### 정의
  - 하나의 물리적 스위치를 여러 논리적 네트워크로 분할하는 기술로, 계층 2(데이터 링크 계층)에서 동작합니다.
  - 태그 기반(VLAN ID, 예: IEEE 802.1Q)으로 트래픽을 구분합니다.
  
  ### 목적
  - 브로드캐스트 도메인 분리
    - 서브넷과 유사하지만 L2 스위치에서 구현되므로 라우터 없이도 통신 격리가 가능합니다.
  - 물리적 배치와 무관한 그룹화
    - 다른 층/건물에 있는 기기를 하나의 VLAN으로 묶어 관리할 수 있습니다 (예: 재무부서 VLAN, 개발부서 VLAN).
  - 보안 강화
    - VLAN 간 통신은 L3 장비(라우터)를 거치도록 강제해 접근 제어를 적용할 수 있습니다.
   
  ### 예시
  VLAN 10: 영업부서 (포트 1-8)  
  VLAN 20: 개발부서 (포트 9-16)  
  
   ## Subnet과 VLAN의 기능이 중복되는데 둘 중 한가지만 써도 될까?
   A. 한가지만 사용해도 네트워크 분리는 가능하지만 같이 사용할 경우 아래와 같은 장점이 있음
   | 기능                 | 서브넷만 사용                          | VLAN + 서브넷 사용                          |
  |----------------------|---------------------------------------|--------------------------------------------|
  | 브로드캐스트 분리     | 서브넷 단위 (IP 기반)                 | VLAN 단위 (스위치 레벨에서 완전 분리)       |
  | L2 보안 제어         | 불가능                                | 가능 (포트 고정, MAC ACL 등)                |
  | 포트 기반 정책       | 어렵거나 복잡                         | 간단 (VLAN ID만 설정하면 끝)                |
  | 유연한 구성          | 물리적 위치 중요                      | 위치 무관, VLAN으로 논리적 묶기 가능         |
  | 공격 격리            | 라우터에 의존                         | 스위치 레벨에서 차단 가능                   |
</details>

### 임용진
<details>
  <summary> 네트워크 - 라우팅 프로토콜 vs 라우티드 프로토콜 </summary>

## 라우팅 프로토콜 (Routing Protocol)

- 라우터 간에 경로 정보를 교환하여 최적의 경로를 동적으로 결정하는 프로토콜
- 라우팅 테이블을 자동으로 생성/갱신
- 네트워크 구조 변화에 자동 대응

### 분류 방식

| 방식 | 설명 | 대표 프로토콜 |
|------|------|----------------|
| 거리 벡터 | 거리(홉 수) + 방향 | RIP, IGRP |
| 링크 상태 | 전체 구조 파악 후 최적 경로 계산 | OSPF, IS-IS |
| 경로 벡터 | 경로 벡터 정보(AS 정보 등) 기반 | BGP |

---

## 라우티드 프로토콜 (Routed Protocol)

- 실제 데이터를 목적지로 전달하는 프로토콜
- 라우팅 프로토콜이 만든 경로를 따라 사용자 데이터(IP 패킷 등)가 전달
- 라우터가 처리할 수 있는 트래픽의 종류를 의미하기도 한다.

### 대표 프로토콜

- IPv4, IPv6
- AppleTalk (구버전)
- IPX (Novell NetWare에서 사용)

---

## 라우팅 vs 라우티드 프로토콜 차이

| 구분 | 라우팅 프로토콜 | 라우티드 프로토콜 |
|------|------------------|--------------------|
| 역할 | 최적 경로를 결정 | 데이터를 전달 |
| 작동 주체 | 라우터 간 정보 교환 | 라우터가 패킷 전달 |
| 데이터 처리 | 라우팅 정보만 처리 | 사용자 데이터 처리 |
| 예시 | RIP, OSPF, EIGRP, BGP | IPv4, IPv6, IPX, AppleTalk |

---

## 정리

- 라우팅 프로토콜: 길 찾는 앱 (예: 구글 지도)
- 라우티드 프로토콜: 실제로 달리는 자동차 (예: 택시)
</details>


### 김성휘
<details>
<summary>클라우드 내부망과 외부망</summary>

### 내부망

1.  정의 : 클라우드 서비스 제공자(나)가 제공하는 네트워크 안에서 같은 데이터 센터(공유기, 랜카드...) 또는 VPC(가상 사설망) 내의 자원끼리 통신하는 전용 네트워크
2. 특징
- 보안성 높음 : 외부 인터넷을 거치지 않기 때문에 패킷 노출 위험도 낮음
- 속도 안정적 : 인터넷을 우회하지 않고 클라우드 데이터센터 내부망을 사용하므로 지연이 낮고 속도가 빠름
- 과금 방식 : 내부 트래픽은 대부분 무료 또는 저렴한 과금
3. 주 용도
- 클라우드 서버 간 통신
- 스토리지와 인스턴스 간 통신
- 보안이 중요한 데이터 전송
- 시스템 간 API 호출


### 외부망
 
1. 정의 : 클라우드 자원(서버, 스토리지 등)이 인터넷을 통해 외부 사용자와 통신하는 네트워크
2. 특징 
- 접근성 뛰어남 : 인터넷이 연결된 곳이라면 어디든 접속 가능. 웹사이트, 모바일 앱, API등이 이 경로를 통해 서비스 제공
- 보안성 낮음 : 외부 인터넷을 통해 연결되므로, 해킹·DDoS 등 위험 노출이 큼. 보안 그룹, 방화벽, VPN, 암호화 등이 필수
- 속도 및 지연 다양 : 인터넷 환경, 지역, 네트워크 상태에 따라 속도가 달라짐
3. 주 용도
- 웹사이트, 앱 서비스 제공
- 외부 API 통신
- 사용자 요청 처리
- 파일 다운로드/업로드 서비스
</details>
<details>
<summary>로드밸런싱의 종류와 특징</summary>

  ### Round Robin

1. 동작 방식
>  1. 사용자가 서버에 요청을보냄
>  2. 로드밸런서는 준비된 서버 목록을 순서대로 돌며 요청을 배분
>  3. 마지막에 배분된 서버 다음 서버부터 다시 요청을 넘깁니다
>  4. 서버 수만큼 순환을 반복합니다.

2. 장점
> 1. 구현이 매우 간단함
> 2. 공평한 분배로 서버가 비슷한 성능일 때 효율적으로 작동
> 3. 별다른 계산 없이 <b>순차적 요청 분배</b>

3. 단점
> 1. 각 서버의 부하 상태를 고려하지 않음
> 2. 서버 처리 속도가 느릴수록 과부하 발생 가능
> 3. 가중치가 없는 순수한 Round Robin은 비균형을 초래할 수 있음

4. 한줄 요약
> 차례로 순환 배분하는 방식, 간단하지만 서버 부하를 고려하지 않으므로 상황에 따라 가중치를 주는 방식을 통해 개선 가능


  ### Weighted Round Robin

1. 동작 방식
>  RoundRobin과 다르게 서버마다 가중치를 설정해 서버의 성능이나 처리 능력에 맞춰 비율적으로 요청을 배분

2. 장점
> 1. 서버 성능을 고려해서 부하를 균형 있게 분배
> 2. 느린 서버는 적게, 빠른 서버는 많이 -> 리소스 낭비 방지 가능
> 3. 시스템 전체 성능이 고르게 유지됨

3. 단점
> 1. 가중치를 미리 정확히 설정해야 함(잘못된 설정은 오히려 부하 쏠림 현상 발생)
> 2. 서버 성능이 동적 변화할 경우 가중치가 고정되어 비효율
> 3. 일반 Round Robin 보다 구현이 복잡

4. 한줄 요약
>  서버 성능을 고려해 요청을 비례 분배한는 방식으로 공평성과 효율을 챙길 수 있지만, 조건에 따라 역효과가 일어날 수 있다

  ### Least Connection

1. 동작 방식
>  현재 연결된 요청이 가장 적은 서버에 새로운 요청을 할당하는 방식

2. 장점
> 1. 서버 부하가 실시간으로 반영, 연결이 적은 서버에만 요청을 주기 때문에 부하 분산이 자연스럽고 효율적
> 2. 서버 성능이 동일하지 않아도 부하 균형 유지 가능
> 3. 고정 가중치 없이도 자동 최적화 됨

3. 단점
> 1. 연결 수만 보고 판단 -> 요청 처리 시간은 고려하지 않음
> 2. 연결 해제가 늦은 경우 서버 상태를 완벽하게 반영하지 못함
> 3. 세션 지속성이 필요할 경우 복잡해질 수 있음

4. 한줄 요약
>  현재 연결 수가 가장 적은 서버에 요청을 배분하여, 부하를 실시간으로 고르게 유지하는 로드밸런싱 방식

  ###  IP Hash

1. 동작 방식
> 1. 클라이언트의 IP 주소를 해시함수로 변환합니다
> 2. 나온 해시 값에 따라 서버를 선택합니다.
> 3. 같은 IP는 항상 같은 서버로 요청을 보냅니다.

2. 장점
> 1. 같은 사용자가 항상 같은 서버에 배정되 세션 지속성 보장받음
> 2. IP만으로 서버를 결정해 구현 방법 간단
> 3. DB없이 고정 분배가 가능, 중앙 세션서버 필요없음

3. 단점
> 1. 일부 IP 대역이 몰리면 특정 서버 과부하
> 2. 서버 추가/삭제하면 해시 분포가 바뀌어 기존 연결이 다른 서버로 바뀌어 세션이 끊길 수 있음
> 3. 프록시 환경에서 IP가 같으면 여러 사용자가 같은 서버로 몰릴 위험

4. 한줄요약
> IP Hash는 클라이언트 IP를 해시 계산하여 특정 서버에 고정 분배하는 방식으로, 세션 유지에 유리하지만 서버 추가/삭제 시 분배 불균형이 생길 수 있다!
</details>
